!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("orange")):"function"==typeof define&&define.amd?define(["orange"],t):"object"==typeof exports?exports["orange.dom"]=t(require("orange")):e["orange.dom"]=t(e.orange)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}r(n(1)),r(n(3))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return b.call(e,t)}function o(e,t,n){var r=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];k.call(e,t,n,r)}function a(e,t,n){L.call(e,t,n)}function s(e,t,n,r,a){var s=e,u=function(e){var n=e.target||e.srcElement;if(!e.delegateTarget)for(;n&&n!=s;n=n.parentNode)i(n,t)&&(e.delegateTarget=n,r(e))},c=!!~C.indexOf(n);return o(e,n,u,c),S.push({eventName:n,handler:u,listener:r,selector:t}),u}function u(e,t,n,r){for(var i=S.slice(),o=0,s=i.length;o<s;o++){var u=i[o],c=!(u.eventName!==n||r&&u.listener!==r||t&&u.selector!==t);c&&(a(e,u.eventName,u.handler),S.splice(E.indexOf(i,u),1))}}function c(e,t){if(e.classList)for(var n=t.split(" "),r=0,i=n.length;r<i;r++)e.classList.contains(n[r].trim())||e.classList.add(n[r].trim());else e.className=E.unique(e.className.split(" ").concat(t.split(" "))).join(" ")}function l(e,t){if(e.classList)for(var n=t.split(" "),r=0,i=n.length;r<i;r++)e.classList.remove(n[r].trim());else for(var o=e.className.split(" "),a=t.split(" "),s=void 0,u=0,c=a.length;u<c;u++)s=o.indexOf(a[u]),~s&&(o=o.splice(s,1))}function f(e,t){if(e.classList)return e.classList.contains(t);var n=new RegExp("\b"+t);return n.test(e.className)}function d(e){if("selectionStart"in e)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange(),n=document.selection.createRange().text.length;return t.moveStart("character",-e.value.length),t.text.length-n}}function h(e,t,n,r){var i=A.transitionEnd||(A.transitionEnd=x()),s=function r(o){a(e,i,r),t.call(n,o)};o(e,i,s)}function v(e,t,n,r){var i=A.animationEnd||(A.animationEnd=w()),s=function r(o){a(e,i,r),t.call(n,o)};o(e,i,s)}function m(e,t){var n=document.createElement(e);if(t)for(var r in t)n.setAttribute(r,t[r]);return n}function g(e){return new E.Promise(function(t,n){var r=new T(e);r.check(function(e){return e?n(e):void t(r.isLoaded)})})}var y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=n(2),p="undefined"!=typeof Element&&Element.prototype||{},b=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.msMatchesSelector||p.oMatchesSelector||function(e){var t=(this.parentNode||document).querySelectorAll(e)||[];return!!~E.indexOf(t,this)},k=p.addEventListener||function(e,t){return this.attachEvent("on"+e,t)},L=p.removeEventListener||function(e,t){return this.detachEvent("on"+e,t)},x=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return t[n];return null},w=function(){var e=document.createElement("bootstrap"),t={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in t)if(void 0!==e.style[n])return t[n];return null};t.matches=i,t.addEventListener=o,t.removeEventListener=a;var C="focus blur change load error".split(" "),S=[];t.delegate=s,t.undelegate=u,t.addClass=c,t.removeClass=l,t.hasClass=f,t.selectionStart=d;var A={animationEnd:null,transitionEnd:null};t.transitionEnd=h,t.animationEnd=v,t.domReady=function(){var e,t=[],n=document,r=n.documentElement.doScroll,i="DOMContentLoaded",o=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return o||n.addEventListener(i,e=function(){for(n.removeEventListener(i,e),o=!0;e=t.shift();)e()}),function(e){o?setTimeout(e,0):t.push(e)}}(),t.createElement=m;var T=function(){function e(t){r(this,e),this.img=t}return y(e,[{key:"check",value:function(e){this.fn=e;var t=this.getIsImageComplete();return t?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.img.addEventListener("load",this),void this.img.addEventListener("error",this))}},{key:"confirm",value:function(e,t,n){this.isLoaded=e,this.fn&&this.fn(n)}},{key:"getIsImageComplete",value:function(){return this.img.complete&&void 0!==this.img.naturalWidth&&0!==this.img.naturalWidth}},{key:"handleEvent",value:function(e){var t="on"+event.type;this[t]&&this[t](event)}},{key:"onload",value:function(e){this.confirm(!0,"onload"),this.unbindEvents()}},{key:"onerror",value:function(e){this.confirm(!1,"onerror",new Error(e.error)),this.unbindEvents()}},{key:"unbindEvents",value:function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this),this.fn=void 0}}]),e}();t.imageLoaded=g},function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var t=c.exec(e);if(t)return document.createElement(t[0]);var n=document.createElement("div");n.innerHTML=e;var r=n.firstChild;return r}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),u=n(1),c=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,l=function(){function e(t){i(this,e),Array.isArray(t)||(t=[t]),this._elements=t||[]}return a(e,[{key:"get",value:function(e){return e=void 0===e?0:e,e>=this.length?void 0:this._elements[e]}},{key:"addClass",value:function(e){return this.forEach(function(t){u.addClass(t,e)})}},{key:"removeClass",value:function(e){return this.forEach(function(t){u.removeClass(t,e)})}},{key:"hasClass",value:function(e){return this._elements.reduce(function(t,n){return u.hasClass(n,e)},!1)}},{key:"attr",value:function e(t,n){var e=void 0;if("string"==typeof t&&n)e=r({},t,n);else if("string"==typeof t){if(this.length)return this.get(0).getAttribute(t)}else s.isObject(t)&&(e=t);return this.forEach(function(t){for(var n in e)t.setAttribute(n,e[n])})}},{key:"text",value:function(e){return 0===arguments.length?this.length>0?this.get(0).textContent:null:this.forEach(function(t){return t.textContent=e})}},{key:"html",value:function(e){return 0===arguments.length?this.length>0?this.get(0).innerHTML:null:this.forEach(function(t){return t.innerHTML=e})}},{key:"css",value:function(e,t){return 2===arguments.length?this.forEach(function(n){e in n.style&&(n.style[e]=String(t))}):this.forEach(function(t){for(var n in e)n in t.style&&(t.style[n]=String(e[n]))})}},{key:"parent",value:function(){var t=[];return this.forEach(function(e){e.parentElement&&t.push(e.parentElement)}),new e(t)}},{key:"remove",value:function(){return this.forEach(function(e){e.parentElement&&e.parentElement.removeChild(e)})}},{key:"clone",value:function(){return new e(this.map(function(e){return e.cloneNode()}))}},{key:"find",value:function(t){var n=[];return this.forEach(function(e){n=n.concat(s.slice(e.querySelectorAll(t)))}),new e(n)}},{key:"map",value:function(e){var t=new Array(this.length);return this.forEach(function(n,r){t[r]=e(n,r)}),t}},{key:"forEach",value:function(e){return this._elements.forEach(e),this}},{key:"length",get:function(){return this._elements.length}}],[{key:"query",value:function(t,n){"string"==typeof n&&(n=document.querySelectorAll(n));var r=void 0,i=void 0;if("string"==typeof t){if(t.length>0&&"<"===t[0]&&">"===t[t.length-1]&&t.length>=3)return new e([o(t)]);if(n){if(!(n instanceof HTMLElement))return r=new e(s.slice(n)),r.find(t);i=s.slice(n.querySelectorAll(t))}else i=s.slice(document.querySelectorAll(t))}else t&&t instanceof Element?i=[t]:t&&t instanceof NodeList&&(i=s.slice(t));return new e(i)}}]),e}();t.Html=l}])});